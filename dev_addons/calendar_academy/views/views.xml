<!--<odoo>-->
<!--  <data>-->
<!--    &lt;!&ndash; explicit list view definition &ndash;&gt;-->

<!--    <record model="ir.ui.view" id="calendar_academy.period_list">-->
<!--      <field name="name">Periodo académico</field>-->
<!--      <field name="model">calendar_academy.calendar_academy</field>-->
<!--      <field name="arch" type="xml">-->
<!--        <list>-->
<!--          <field name="period"/>-->
<!--        </list>-->
<!--      </field>-->
<!--    </record>-->


<!--    &lt;!&ndash; actions opening views on models &ndash;&gt;-->

<!--    <record model="ir.actions.act_window" id="calendar_academy.action_period_window">-->
<!--      <field name="name">Period window</field>-->
<!--      <field name="res_model">calendar_academy.calendar_academy</field>-->
<!--      <field name="view_mode">list,form</field>-->
<!--    </record>-->


<!--    &lt;!&ndash; server action to the one above &ndash;&gt;-->
<!--&lt;!&ndash;-->
<!--    <record model="ir.actions.server" id="calendar_academy.action_server">-->
<!--      <field name="name">calendarAcademy server</field>-->
<!--      <field name="model_id" ref="model_calendar_academy_calendar_academy"/>-->
<!--      <field name="state">code</field>-->
<!--      <field name="code">-->
<!--        action = {-->
<!--          "type": "ir.actions.act_window",-->
<!--          "view_mode": "list,form",-->
<!--          "res_model": model._name,-->
<!--        }-->
<!--      </field>-->
<!--    </record>-->
<!--&ndash;&gt;-->

<!--    &lt;!&ndash; Top menu item &ndash;&gt;-->

<!--    <menuitem name="Calendar Academy" id="calendar_academy.menu_root"/>-->

<!--    &lt;!&ndash; menu categories &ndash;&gt;-->

<!--    <menuitem name="Period Management" id="calendar_academy.menu_period" parent="calendar_academy.menu_root"/>-->
<!--&lt;!&ndash;    <menuitem name="Menu 2" id="calendar_academy.menu_2" parent="calendar_academy.menu_root"/>&ndash;&gt;-->

<!--    &lt;!&ndash; actions &ndash;&gt;-->

<!--    <menuitem name="Periods" id="calendar_academy.menu_period_list" parent="calendar_academy.menu_period"-->
<!--              action="calendar_academy.action_period_window"/>-->
<!--&lt;!&ndash;    <menuitem name="Server to list" id="calendar_academy" parent="calendar_academy.menu_2"&ndash;&gt;-->
<!--&lt;!&ndash;              action="calendar_academy.action_server"/>&ndash;&gt;-->

<!--  </data>-->
<!--</odoo>-->
<odoo>
  <data>
    <!-- Form View -->
    <record model="ir.ui.view" id="calendar_academy.period_form">
      <field name="name">Periodo académico Form</field>
      <field name="model">calendar_academy.calendar_academy</field>
      <field name="arch" type="xml">
        <form>
          <header>
            <field name="state" widget="statusbar" options="{'clickable': '1'}"/>
          </header>
          <sheet>
            <div class="oe_title">
              <h1>
                <field name="name" readonly="1"/>
              </h1>
            </div>
            <group>
              <group>
                <field name="start_date"/>
                <field name="end_date"/>
              </group>
              <group>
                <field name="active" widget="boolean_toggle"/>
              </group>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <!-- List View -->
    <record model="ir.ui.view" id="calendar_academy.period_list">
      <field name="name">Periodo académico List</field>
      <field name="model">calendar_academy.calendar_academy</field>
      <field name="arch" type="xml">
        <list>
          <field name="name"/>
          <field name="start_date"/>
          <field name="end_date"/>
          <field name="state"/>
        </list>
      </field>
    </record>

    <!-- Search View -->
    <record model="ir.ui.view" id="calendar_academy.period_search">
      <field name="name">Periodo académico Search</field>
      <field name="model">calendar_academy.calendar_academy</field>
      <field name="arch" type="xml">
        <search>
          <field name="name"/>
          <field name="start_date"/>
          <field name="end_date"/>
          <filter string="Períodos Activos" name="active" domain="[('state','=','active')]"/>
          <filter string="Períodos Borrador" name="draft" domain="[('state','=','draft')]"/>
          <filter string="Archivado" name="inactive" domain="[('active','=',False)]"/>
          <group expand="0" string="Group By">
            <filter string="Estado" name="state" context="{'group_by':'state'}"/>
            <filter string="Mes Inicio" name="start_month" context="{'group_by':'start_date:month'}"/>
            <filter string="Año Inicio" name="start_year" context="{'group_by':'start_date:year'}"/>
          </group>
        </search>
      </field>
    </record>

    <!-- actions opening views on models -->
    <record model="ir.actions.act_window" id="calendar_academy.action_period_window">
      <field name="name">Períodos Académicos</field>
      <field name="res_model">calendar_academy.calendar_academy</field>
      <field name="view_mode">list,form</field>
      <field name="search_view_id" ref="calendar_academy.period_search"/>
      <field name="help" type="html">
        <p class="o_view_nocontent_smiling_face">
          Crea tu primer período académico
        </p>
      </field>
    </record>

    <!-- Menu Items -->
    <menuitem name="Calendar Academy"
              id="calendar_academy.menu_root"/>

    <menuitem name="Period Management"
              id="calendar_academy.menu_period"
              parent="calendar_academy.menu_root"/>

    <menuitem name="Periods"
              id="calendar_academy.menu_period_list"
              parent="calendar_academy.menu_period"
              action="calendar_academy.action_period_window"/>

  </data>
</odoo>